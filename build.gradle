plugins {
  id 'java'
  id 'war'
}

repositories {
  mavenCentral()
}

dependencies {

  compileOnly 'javax:javaee-api:8.0'

  implementation 'org.primefaces:primefaces:8.0'

}


java {
  toolchain {
    languageVersion = JavaLanguageVersion.of(17)
  }
}

compileJava {
  options.encoding = 'UTF-8'
}

jar.enabled = false
war.enabled = true

war {
  archiveBaseName.set('web_3')
  archiveVersion.set('')
  destinationDirectory = file('/opt/wildfly/standalone/deployments/')

  doFirst {
    delete fileTree(dir: destinationDirectory, includes: ['web_3.war'])
  }
}